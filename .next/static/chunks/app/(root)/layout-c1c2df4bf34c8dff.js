(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2285:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.bind(s,879)),Promise.resolve().then(s.bind(s,5319)),Promise.resolve().then(s.bind(s,4541)),Promise.resolve().then(s.bind(s,4662)),Promise.resolve().then(s.bind(s,5555)),Promise.resolve().then(s.bind(s,1413)),Promise.resolve().then(s.bind(s,112)),Promise.resolve().then(s.bind(s,9494)),Promise.resolve().then(s.bind(s,9888)),Promise.resolve().then(s.bind(s,5936)),Promise.resolve().then(s.bind(s,8635))},879:(e,t,s)=>{"use strict";s.d(t,{CartItem:()=>h});var a=s(7437);s(2265);var r=s(4697),l=s(9354);let n=e=>{let{src:t,className:s}=e;return(0,a.jsx)("img",{className:(0,l.cn)("w-[60px] h-[60px]",s),src:t,alt:""})},i=e=>{let{value:t,className:s}=e;return(0,a.jsxs)("h2",{className:(0,l.cn)("font-bold",s),children:[t," \xa3"]})};var o=s(2513),d=s(8002),c=s(9733);let m=e=>{let{size:t="sm",disabled:s,type:r,onClick:n}=e;return(0,a.jsx)(c.z,{variant:"outline",disabled:s,onClick:n,className:(0,l.cn)("p-0 hover:bg-primary hover:text-white disabled:bg-white disabled:border-gray-400 disabled:text-gray-400","sm"===t?"w-[30px] h-[30px] rounded-[10px]":"w-[38px] h-[38px] rounded-md"),children:"plus"===r?(0,a.jsx)(o.Z,{className:"sm"===t?"h-4":"h-5"}):(0,a.jsx)(d.Z,{className:"sm"===t?"h-4":"h-5"})})},u=e=>{let{className:t,onClick:s,value:r=1,size:n="sm"}=e;return(0,a.jsxs)("div",{className:(0,l.cn)("inline-flex items-center justify-between gap-3",t),children:[(0,a.jsx)(m,{onClick:()=>null==s?void 0:s("minus"),disabled:1===r,size:n,type:"minus"}),(0,a.jsx)("b",{className:"sm"===n?"text-sm":"text-md",children:r}),(0,a.jsx)(m,{onClick:()=>null==s?void 0:s("plus"),size:n,type:"plus"})]})},x=e=>{let{name:t,pizzaSize:s,type:r,ingredients:l}=e,n=[];return s&&n.push("".concat(1===r?"Традиционное":"Тонкое"," ").concat(s," см")),l&&n.push(...l.map(e=>e.name)),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h2",{className:"text-lg font-bold flex-1 leading-6",children:t})}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:n.join(", ")})]})},h=e=>{let{name:t,price:s,imageUrl:o,quantity:d,className:c}=e;return(0,a.jsxs)("div",{className:(0,l.cn)("flex items-center justify-between",c),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5 flex-1",children:[(0,a.jsx)(n,{src:o}),(0,a.jsx)(x,{name:t})]}),(0,a.jsx)(i,{value:s}),(0,a.jsxs)("div",{className:"flex items-center gap-5 ml-20",children:[(0,a.jsx)(u,{onClick:()=>{},value:d}),(0,a.jsx)("button",{onClick:()=>{},children:(0,a.jsx)(r.Z,{className:"text-gray-400 cursor-pointer hover:text-gray-600",size:20})})]})]})}},5319:(e,t,s)=>{"use strict";s.r(t),s.d(t,{SearchBar:()=>m});var a=s(7437),r=s(4817),l=s(7138),n=s(2265),i=s(3273),o=s(8494),d=s(9354),c=s(3291);let m=()=>{let[e,t]=n.useState(!1),[s,m]=n.useState(""),[u,x]=n.useState([]),h=n.useRef(null);(0,i.Z)(h,()=>{t(!1)}),(0,o.Z)(async()=>{""!==s.trim()&&x(await c.x.products.search(s))},100,[s]);let p=()=>{x([]),m(""),t(!1)};return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)("div",{className:"fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"}),(0,a.jsxs)("div",{ref:h,className:(0,d.cn)("flex rounded-2xl flex-1 justify-between relative h-11",e&&"z-30"),children:[(0,a.jsx)(r.Z,{className:"absolute top-1/2 translate-y-[-50%] left-3 h-5 text-gray-400"}),(0,a.jsx)("input",{className:"rounded-2xl outline-none w-full bg-gray-50 pl-11",type:"text",placeholder:"Search...",onFocus:()=>t(!0),value:s,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&""!==s.trim()&&(e.preventDefault(),c.x.products.search(s).then(x))}}),u.length>0&&""!==s.trim()&&(0,a.jsx)("div",{className:(0,d.cn)("absolute w-full bg-white rounded-xl py-2 top-14 shadow-md transition-all duration-200 invisible opacity-0 z-30",e&&"visible opacity-100 top-12"),children:u.map(e=>(0,a.jsx)(l.default,{href:"/src/app/(root)/products/".concat(e.id),children:(0,a.jsx)("div",{onClick:p,className:"px-3 py-2 hover:bg-primary/10 cursor-pointer",children:e.name})},e.id))})]})]})}},5936:(e,t,s)=>{"use strict";s.d(t,{Sheet:()=>d,SheetClose:()=>m,SheetContent:()=>p,SheetFooter:()=>b,SheetHeader:()=>f,SheetTitle:()=>g,SheetTrigger:()=>c});var a=s(7437),r=s(2265),l=s(3477),n=s(2218),i=s(4697),o=s(9354);let d=l.fC,c=l.xz,m=l.x8,u=l.h_,x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});x.displayName=l.aV.displayName;let h=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:n,...d}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(l.VY,{ref:t,className:(0,o.cn)(h({side:s}),r),...d,children:[(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]})});p.displayName=l.VY.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};f.displayName="SheetHeader";let b=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};b.displayName="SheetFooter";let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",s),...r})});g.displayName=l.Dx.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.dk.displayName},3291:(e,t,s)=>{"use strict";s.d(t,{x:()=>b});var a={};s.r(a),s.d(a,{addCartItem:()=>c,fetchCart:()=>d,removeCartItem:()=>u,updateItemQuantity:()=>m});var r={};s.r(r),s.d(r,{search:()=>x});var l={};s.r(l),s.d(l,{getAll:()=>h});var n={};s.r(n),s.d(n,{getAll:()=>p});var i={};s.r(i),s.d(i,{getMe:()=>f});let o=s(8472).Z.create({baseURL:"/api"}),d=async()=>{let{data:e}=await o.get("/cart");return e},c=async e=>{let{data:t}=await o.post("/cart",e);return t},m=async(e,t)=>{let{data:s}=await o.patch("/cart/"+e,{quantity:t});return s},u=async e=>{let{data:t}=await o.delete("/cart/"+e);return t},x=async e=>{let{data:t}=await o.get("/products/search",{params:{query:e}});return t},h=async()=>{let{data:e}=await o.get("/ingredients");return e},p=async()=>{let{data:e}=await o.get("/stories");return e},f=async()=>{let{data:e}=await o.get("/auth/me");return e},b={cart:a,products:r,ingredients:l,stories:n,auth:i}}},e=>{var t=t=>e(e.s=t);e.O(0,[816,889,952,130,215,744],()=>t(2285)),_N_E=e.O()}]);